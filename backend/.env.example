# Copy this file to .env and fill values for local development.
# Minimal variables required to run the backend for development.

# NOTE: Do NOT commit real secrets to source control. Use a secret manager
# or environment injection on your deployment platform for production values.

# OpenAI API key (required by AI services). Obtain from https://platform.openai.com/
# For local development you can set a dev key; leave empty in CI and use
# `DISABLE_OPENAI=true` if you want to run without a key.
OPENAI_API_KEY=

# Database (Postgres) URL example (change to your local DB)
# DATABASE_URL=postgresql://user:password@localhost:5432/datafusion?schema=public

# Redis URL (optional for sessions/queues)
# REDIS_URL=redis://localhost:6379

# API port
PORT=4000

# Disable OpenAI usage (set to 'true' to run backend without an OpenAI API key)
# Useful for local development when you don't want to provide an API key.
DISABLE_OPENAI=true

# Environment
NODE_ENV=development

# Database (local dev example)
DATABASE_URL=postgresql://user:password@localhost:5432/datafusion

# Redis (local dev)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# JWT - REQUIRED in production
# Set a strong secret (>=32 characters) in production. Do NOT commit secrets.
JWT_SECRET=
JWT_EXPIRES_IN=7d

# Blockchain (local dev placeholders)
BLOCKCHAIN_RPC_URL=https://rpc-mumbai.maticvigil.com
DEPLOYER_PRIVATE_KEY=
BONDING_CURVE_FACTORY_ADDRESS=
DATASET_NFT_ADDRESS=
UNISWAP_V3_FACTORY=
UNISWAP_V3_POSITION_MANAGER=
CHAIN_ID=137

# IPFS (Pinata) - do not commit real keys
PINATA_API_KEY=
PINATA_SECRET_KEY=
PINATA_JWT=

# Frontend URL (for metadata external_url)
# In production set to your deployed frontend origin, e.g. https://app.example.com
FRONTEND_URL=http://localhost:3000

# CORS - Comma-separated allowed origins. REQUIRED in production.
# Example: ALLOWED_ORIGINS=http://localhost:3000,https://app.example.com
ALLOWED_ORIGINS=http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# OpenAI (model settings)
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=4096

# MinIO (S3-compatible storage) - local dev defaults
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=datafusion-datasets
MINIO_USE_SSL=false

# BullMQ (local dev)
BULLMQ_REDIS_HOST=localhost
BULLMQ_REDIS_PORT=6379

# Socket.io
SOCKET_IO_CORS_ORIGIN=http://localhost:3000

# Elasticsearch
ELASTICSEARCH_NODE=http://localhost:9200
ELASTICSEARCH_INDEX=datasets

# Stripe (production: inject securely via env/secret manager)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PUBLISHABLE_KEY=

# Dashboard cache settings
DASHBOARD_CACHE_TTL=300
EARNINGS_CACHE_TTL=600
ANALYTICS_CACHE_TTL=900
PLATFORM_STATS_CACHE_TTL=3600
AGGREGATION_CRON_SCHEDULE="0 0 * * *"

# AI Services (placeholders)
ANTHROPIC_API_KEY=
CLAUDE_MODEL=claude-3.5
CLAUDE_MAX_TOKENS=4096
GOOGLE_AI_API_KEY=
GEMINI_MODEL=gemini-pro
GEMINI_MAX_TOKENS=4096

# Embeddings
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSION=1536

# Validation / compliance
DEFAULT_VALIDATION_LEVEL=standard
ENABLE_COMPLIANCE_CHECKING=true
